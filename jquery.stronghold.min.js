// Stronghold v0.0.1 - https://github.com/Lapple/Stronghold
;(function(e){var t;return t=function(){function t(t){var n=this;e.extend(!0,this,this.defaults,t),this.sidebarState=this.staticClass,this.parentOffset=this.el.position().left+this.parseAttribute(this.el.css("border-left-width")),this.offsetLeft=this.calculateOffset(),this.contentOffsetTop=this.within.offset().top+this.staticOffset,this.window.scroll(function(){var e,t,r;if(n.sidebarState===n.preventClass)return;return r=n.window.scrollTop(),r>=n.contentOffsetTop&&n.offsetLeft?(t=n.el.outerHeight()+n.parseAttribute(n.el.css("top")),e=n.within.outerHeight(),r>e+n.contentOffsetTop-t?n.set(n.bottomClass,{left:n.parentOffset}):n.set(n.fixedClass,{left:n.offsetLeft})):n.set(n.staticClass,{left:"auto"})}),this.window.resize(function(){var e;if(n.sidebarState===n.preventClass)return;return n.offsetLeft=n.calculateOffset(),e=n.sidebarState===n.fixedClass?n.offsetLeft:"auto",e?n.set(n.sidebarState,{left:e,force:!0}):n.set(n.staticClass,{left:"auto"})})}return t.prototype.calculateOffset=function(){var e;return e=Math.round((this.window.width()-this.within.outerWidth())/2)+this.parentOffset,e<0?!1:e},t.prototype.set=function(e,t){var n,r,i;t==null&&(t={});if(e===this.sidebarState&&!t.force)return;t.left!=null&&this.el.css("left",t.left);switch(e){case this.staticClass:(n=this.onStatic)!=null&&n.call(this.el[0]);break;case this.fixedClass:(r=this.onFixed)!=null&&r.call(this.el[0]);break;case this.bottomClass:(i=this.onBottom)!=null&&i.call(this.el[0])}return this.el.removeClass(this.sidebarState).addClass(e),this.sidebarState=e},t.prototype.parseAttribute=function(e){return parseInt(e,10)||0},t.prototype.window=e(window),t.prototype.defaults={preventClass:"",fixedClass:"fixed",bottomClass:"bottom",staticClass:"static",staticOffset:0,within:e("body")},t}(),e.fn.stronghold=function(n,r){return this.each(function(i){var s,o;return r!=null?(s=this._stronghold)!=null?(o=s[n])!=null?o.apply(this._stronghold,r):void 0:void 0:this._stronghold=new t(e.extend(!0,n,{el:e(this)}))})}})(jQuery);
